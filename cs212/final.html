<!DOCTYPE html>
<html>
<head>
  <title>Lights Out</title>
  <style>
    /* CSS styles for game layout */
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-color: black;
      flex-direction: column;
      color: white;
      font-family: Arial, sans-serif;
    }
    h1 {
      margin-bottom: 20px;
    }
    .container {
      display: grid;
      grid-template-columns: repeat(5, 50px);
      grid-gap: 5px;
      justify-content: center;
      align-items: center;
    }
    .cell {
      width: 50px;
      height: 50px;
      background-color: purple;
      border: 1px solid white;
      cursor: pointer;
    }
    .restart-btn {
      margin-top: 20px;
      text-align: center;
    }
    .restart-btn button {
      padding: 10px 20px;
      background-color: white;
      color: black;
      border: 1px solid white;
      cursor: pointer;
    }
    .restart-btn button:hover {
      background-color: black;
      color: white;
    }
    /* Addendum styles */
    .addendum {
      margin-top: 30px;
      border-top: 1px solid white;
      padding-top: 20px;
    }
    .addendum h2 {
      margin-bottom: 10px;
    }
    .addendum p {
      margin-bottom: 15px;
    }
  </style>
</head>
<body>

<h1>Lights Out</h1>

<div class="container" id="board"></div>
<div class="restart-btn">
  <button onclick="restartGame()">Restart</button>
</div>

<script>
  const boardSize = 5;
  let board = [];

  // Create a random solvable board
  function createBoard() {
    board = [];
    for (let i = 0; i < boardSize; i++) {
      board[i] = [];
      for (let j = 0; j < boardSize; j++) {
        board[i][j] = Math.random() > 0.5 ? 1 : 0;
      }
    }
  }

  // Check if the board is solved
  function isSolved() {
    return board.every(row => row.every(cell => cell === 0));
  }

  // Toggle the lights when a cell is clicked
  function toggleCell(row, col) {
    board[row][col] ^= 1;
    if (row > 0) board[row - 1][col] ^= 1;
    if (row < boardSize - 1) board[row + 1][col] ^= 1;
    if (col > 0) board[row][col - 1] ^= 1;
    if (col < boardSize - 1) board[row][col + 1] ^= 1;
  }

  // Render the board
  function renderBoard() {
    const boardElement = document.getElementById('board');
    boardElement.innerHTML = '';
    for (let i = 0; i < boardSize; i++) {
      for (let j = 0; j < boardSize; j++) {
        const cell = document.createElement('div');
        cell.className = 'cell';
        if (board[i][j] === 1) cell.style.backgroundColor = 'white';
        cell.addEventListener('click', () => {
          toggleCell(i, j);
          renderBoard();
          if (isSolved()) {
            window.alert('Congratulations! You win the game!');
            createBoard();
            renderBoard();
          }
        });
        boardElement.appendChild(cell);
      }
    }
  }

  // Initialize the game
  createBoard();
  renderBoard();

  // Restart the game
  function restartGame() {
    createBoard();
    renderBoard();
  }
</script>

<!-- Addendum explaining the code and creative process -->
<div class="addendum">
  <h2>Explanation and Creative Process:</h2>
  <p>
    In building the "Lights Out" game, the design choice was made to create a visually engaging yet straightforward game interface. The grid layout represents the game board, each cell functioning as a toggle for its state and adjacent cells.
  </p>
  <p>
    The color scheme was chosen to contrast between the active and inactive cell states, enhancing visibility and interaction for the player. Styling elements, such as the font, layout, and button appearance, were selected to align with the theme of the game.
  </p>
  <p>
    Challenges primarily revolved around implementing the game logic for toggling cell states and checking for a win condition. Debugging was crucial in ensuring that the game behaved as expected after each cell click and that the win condition was accurately detected.
  </p>
  <p>
    Insights gained during this process involved understanding the importance of clear game mechanics, intuitive UI design, and efficient event handling to create a smooth user experience. Iterative development and testing were vital in refining the game's functionality and appearance.
  </p>
</div>

</body>
</html>
